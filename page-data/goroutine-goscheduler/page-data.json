{"componentChunkName":"component---src-templates-blog-post-js","path":"/goroutine-goscheduler/","result":{"data":{"site":{"siteMetadata":{"title":"Burkay Durdu Blog"}},"markdownRemark":{"id":"1e18b4c7-b613-592e-9a79-1053ca3bd6d9","excerpt":"Rob Pike, Robert Griesemer ve Ken Thompson tarafından tasarlanmis. Açık kaynak kodlu ve  tipli bir programlama dilidir. 25 anahtar Sözcük (keyword) Derlenen bir…","html":"<ul>\n<li><strong>Rob Pike</strong>, <strong>Robert Griesemer</strong> ve <strong>Ken Thompson</strong> tarafından tasarlanmis.</li>\n<li>Açık kaynak kodlu ve <code class=\"language-text\">statik</code> tipli bir programlama dilidir.</li>\n<li>25 anahtar Sözcük (keyword)</li>\n<li>Derlenen bir dildir.</li>\n</ul>\n<h5>Thread (Tek CPU Kernel)</h5>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/f8a0a930fb1bdd862acb199bec086a45/5205c/sc1.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 17.72151898734177%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAAAsTAAALEwEAmpwYAAABB0lEQVR42iWPzUrDQBSF+2xu3fgwPoEgiLhw50JwJdI3EAoRwQpiN1JLK01a0qaJ0PwxU9NMMtP5nLYH7uIe7j0/nXkpmRWCaVaSVQpT5zTlmFYEaK3QRtPIBSobouTS7S2t49u/GC189HaNMRalHNe2dHrBgpflL/205DtXbPwu8vUUMTjHumcLVD93bN7OkMMr9rBmx+brAuGdICb3NBqSeEWSJEdBL4zpZ5JRWtCoBtVYcpnizW95nl6yyMe4oKxFQi+4dnNDXATu1lKr+pAuiiLCMKTjlwLfVZ44sbTaOvsd1sWqlGCw6vIePrCWs0MyuU35jJ74WD5SuMp7GOdkjKGuj8L/j70mgGJWDDkAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"sc1\"\n        title=\"\"\n        src=\"/static/f8a0a930fb1bdd862acb199bec086a45/f058b/sc1.png\"\n        srcset=\"/static/f8a0a930fb1bdd862acb199bec086a45/c26ae/sc1.png 158w,\n/static/f8a0a930fb1bdd862acb199bec086a45/6bdcf/sc1.png 315w,\n/static/f8a0a930fb1bdd862acb199bec086a45/f058b/sc1.png 630w,\n/static/f8a0a930fb1bdd862acb199bec086a45/5205c/sc1.png 833w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<h5>Thread (Multi CPU kernel)</h5>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/8d26b9b8c26ff3d2923946f7c013d0fd/f0551/sc2.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 36.075949367088604%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsTAAALEwEAmpwYAAABMElEQVR42qWRy0vDQBDG84/7oB78C/Qgvj14bysiFPQg2HoQWgpNX2jFJE3TNLvdh0nz+JxuECoeO/Dj213YmflmrJmQGC043rkw6pBuE1ZnFuLJC3HfH+PR8dHyOeLpC5R9BDU4gxyuuSAuIUdXxDXU+AaakONbJN9LSKXBOUOaprAGC4ZWwPD86aLph2iHCrFPCfvHUJRMDU//oQ0nVOQcseYQUsHzvDKh0BrOIoJP1p2IgSm1neV+WHbYdAO8knaCCEkqoJIAOplDr34J6R6WukGWpaazOI7pnMFq0wwbToBq10bja4o3X6LrPqDa26O5HuLOPkDdUCH2UaP3mr1L7KDeq4CJOVjEMZl8QAgBa0b+h2bL5bbdpURRFMjznMgMWZ5usPoDUBir6z/r+AFuswmT4zlVLgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"sc2\"\n        title=\"\"\n        src=\"/static/8d26b9b8c26ff3d2923946f7c013d0fd/f058b/sc2.png\"\n        srcset=\"/static/8d26b9b8c26ff3d2923946f7c013d0fd/c26ae/sc2.png 158w,\n/static/8d26b9b8c26ff3d2923946f7c013d0fd/6bdcf/sc2.png 315w,\n/static/8d26b9b8c26ff3d2923946f7c013d0fd/f058b/sc2.png 630w,\n/static/8d26b9b8c26ff3d2923946f7c013d0fd/f0551/sc2.png 862w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<h3>Goroutine</h3>\n<ul>\n<li>Light-weight threads olarak geçer.</li>\n<li>İşletim sistemi threadlerinden daha ucuzlardır. Stack boyutları threadlere göre daha düşüktür. Goroutinlerin boyutu 2KB'dır.</li>\n<li>Go runtime tarafından yönetilir. (User thread gibi)</li>\n<li>Therad'e göre daha az maliyetlidir. Context switch yaparken.</li>\n<li>Channellar ile haberleşirler.</li>\n<li>Kendi stack boyutlarını runtime'da küçültebilir aynı zamanda büyültebilirler.</li>\n<li>Goroutineler işletim sistemi threadleri üzerinde çalışır(kernel).</li>\n<li>Main goroutine default.</li>\n<li>Goroutineler stack boyutlarını 64-bit'deki işlemcilerde 1GB kadar 32-bit'lerde 250MB kadar max büyütebilir. <code class=\"language-text\">runtime.morestack</code> daha fazla stack ihtiyacı varsa bu komut çalıştırılır.</li>\n</ul>\n<h3>Go Scheduler</h3>\n<ul>\n<li>GMP</li>\n<li>Go runtime'a özeldir.</li>\n<li>Birden fazla goroutine birden fazla thread üzerinde çalışabilir.<code class=\"language-text\">schema-1</code></li>\n<li>Görevi çalıştırmaya hazır goroutineleri threadler üzerinde çalıştırmaktır.(kernel thread).</li>\n<li>Bir işletim sistemi thread'i mutlaka bir processor'e bağlı olmak zorundadır. Yoksa goroutinler o thread üzerinde çalışamaz.</li>\n<li>Go runtime'ın bir parçasıdır. Go scheduler user seviyesinde çalışan yapılardır.</li>\n</ul>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/f04d107ed3039324725b019f003201f3/cc8d6/sc4.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 62.0253164556962%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAACuUlEQVR42m1TX0hTURy+FL310EuvFWXUMCWI/kCaKQoR+CIW9NqDFEQvYRARvmQPgqXtJdO2bOUaDmXpUoeUM4klzbKmW7a1zW1utb/O+//e7eucuyaBnns/zu/ec+/H933n/BhJkTEZm4E1ZEeWy4EOX9YPa9iO8HpUey6Sa7tRKJbeP/GGcOvTslYzBr8F1SNNqBxuQMfiQwTXV1HvuIyq4Ua0ONuQFjIl0mJxWzJ3Koc9fVYwXQaYAzEwvT4DDptrUGE6i9tfH+B7yovqsSboDOdQO92KcDYCqOQuqFBVFYqiaBAlCSrBUiyOo+Yp7O4fwUwsCUaQRViCYzAGhhHLJcifRThWneheeoqP0c9QRQUsxyGfz4MjsyiKm+B4HhAFzK0lYQuulSznpQ28DIxi4McQkhspFJUi3oXnoPcYEciENjOklqkylmU1ckEQiOqCtj6xmkCft/Qtc9+jxxFzLSqI7U5SLyQ9OD5+AZWv6tHsvIo0l0FBKUAgSmRZ1ogLhEiUZEgci+V0DvuMNux8ZMJYOAGmx/cMxywN0FnOQ+97jm8kwxPjF6Ez1aFltg1/1pOEkGSnKpBIZtSqNhMoJILZYAR7jW+wS28mhHEwNOiJ6HuMhCfBCTwkVsT0yiz0XwwIxH8RFSLJkNUs/r/TVCVPyKHKGPJH0OsJlCz7Mn60L3Tixvw9uKJu8CTox0sGXHfdhTVopwFqViUCmh9dL0MmmdLhSqQx4AuXCO8sduHA4GkcNJ7BTXcHXL/dODRaA13/OZx0NCP079jQDKlKutMUPKkVonBtg0PV6yns6DHBFiKWp2Mf0Oi4grrJVtItb5HiM7jkvIZTtmZNOS8Jmxa3HGxyNlcyOew32cF0D+LFzwgYuhhl4wjmIyh3WFrIYjG9DEERtrQbzbGcZblbqLL2ea9W/wWDoTwmZMmTiQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Schema1\"\n        title=\"\"\n        src=\"/static/f04d107ed3039324725b019f003201f3/f058b/sc4.png\"\n        srcset=\"/static/f04d107ed3039324725b019f003201f3/c26ae/sc4.png 158w,\n/static/f04d107ed3039324725b019f003201f3/6bdcf/sc4.png 315w,\n/static/f04d107ed3039324725b019f003201f3/f058b/sc4.png 630w,\n/static/f04d107ed3039324725b019f003201f3/cc8d6/sc4.png 791w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p><code class=\"language-text\">schema-1</code></p>\n<div class=\"gatsby-highlight\" data-language=\"go\"><pre class=\"language-go\"><code class=\"language-go\"><span class=\"token keyword\">func</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\tfmt<span class=\"token punctuation\">.</span><span class=\"token function\">Println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Hello World!\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Bu code çalışınca neler olur? Go scheduler nasıl haraket eder?</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/2081dc091785ce92d82cb703381b36c1/bb2fd/sc3.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 28.48101265822785%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAAsTAAALEwEAmpwYAAABaElEQVR42m2RyyuEURjGj6SslCT/gK3YsLdwKWVL2bG0ULJDliRKKZeFrNxyKWTEpHHJtch9Y/omBuUyw4xvvvnuP8c3XzY8dXrfek+/8zzvES5gy+PwV46bqcpnkpRp/ZmrSRVd1VE/Vd6fXjEMHZE6a8e+6cC+akO77MbW4z7M9WFfFK8cMHit/D7i+rP7WJSeowFaQh1MnE5jmiaCOcHtcA6RMYGzKEg/BjNuHYtEWqd684Ts3nEKJldZj754IMuxvVidl/2UrFVRvlRHRaiejccdCVwW7A/mcjOSDSsC9T6A4e3B5PotTuFMkILeUbJG5um7CEt7NoaMn9JSNB23UbZQQ/lQNaVbtUzezSE06coK5GMH8tBWizBj554L+8eF1Gw4ipjaoiF0hus4fuxM3X4+pH6vmcrdRlpPuoilPxBmMoKRUNCTD1jaO+4/nzNxq6AkvrzeX5+8l2niEhL+iGDKRD/6Bi68nK9yUIQdAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"sc3\"\n        title=\"\"\n        src=\"/static/2081dc091785ce92d82cb703381b36c1/f058b/sc3.png\"\n        srcset=\"/static/2081dc091785ce92d82cb703381b36c1/c26ae/sc3.png 158w,\n/static/2081dc091785ce92d82cb703381b36c1/6bdcf/sc3.png 315w,\n/static/2081dc091785ce92d82cb703381b36c1/f058b/sc3.png 630w,\n/static/2081dc091785ce92d82cb703381b36c1/40601/sc3.png 945w,\n/static/2081dc091785ce92d82cb703381b36c1/bb2fd/sc3.png 1058w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<ul>\n<li>Runtime bir processor yaratıyor. (P)</li>\n<li>Scheduler initialize oluyor ve bir işletim sistemi thread'i yaratıyor.</li>\n<li><code class=\"language-text\">runtime.main</code>  çağırılıyor. Aslında main.main çağırılıyor. bizim main fonksiyonumuzu çağırır.</li>\n<li>Bu bir main goroutine oluşturur.</li>\n<li>P nin local queue'suna ekliyor. P'nin içerisinde bir goroutine sırası var ve main goroutine oraya pushlanıyor.</li>\n<li>İşletim sistemi thread'imiz processor'e bağlanıyor. P'nin içerisindeki goroutine'ni çalıştırmak için gerekli bigileri alıyor.</li>\n<li>Goroutine işletim sistemi thread'ine bağlanıyor.</li>\n<li>İşlemini gerçekleştiriyor. Code çalışır ve bitiyor her hangi bir duruma bağlı olarak (exit, panic, defer). sonrasında <code class=\"language-text\">runtime.exit</code> çağırılıyor.</li>\n</ul>","frontmatter":{"title":"Goroutine & Go Scheduler","date":"March 31, 2022","description":null}},"previous":{"fields":{"slug":"/nodejs-async/"},"frontmatter":{"title":"Node-JS Asynchronous and Single-threaded [NOTE]"}},"next":{"fields":{"slug":"/go-generic-types/"},"frontmatter":{"title":"Generic Types in Golang"}}},"pageContext":{"id":"1e18b4c7-b613-592e-9a79-1053ca3bd6d9","previousPostId":"89412ee6-fc8e-57c1-a270-1aed6c74a39d","nextPostId":"fdef469f-a941-5b15-9f82-9e25ae3a9636"}},"staticQueryHashes":["2841359383","4144781314"],"slicesMap":{}}