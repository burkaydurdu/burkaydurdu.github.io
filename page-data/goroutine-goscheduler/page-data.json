{"componentChunkName":"component---src-templates-blog-post-js","path":"/goroutine-goscheduler/","result":{"data":{"site":{"siteMetadata":{"title":"Burkay Durdu Blog","author":"Burkay Durdu"}},"markdownRemark":{"id":"05fdfae8-2568-5c1c-8800-ba7061b5c428","excerpt":"Rob Pike, Robert Griesemer ve Ken Thompson tarafından tasarlanmis. Açık kaynak kodlu ve  tipli bir programlama dilidir. 25 anahtar Sözcük (keyword) Derlenen bir…","html":"<ul>\n<li><strong>Rob Pike</strong>, <strong>Robert Griesemer</strong> ve <strong>Ken Thompson</strong> tarafından tasarlanmis.</li>\n<li>Açık kaynak kodlu ve <code class=\"language-text\">statik</code> tipli bir programlama dilidir.</li>\n<li>25 anahtar Sözcük (keyword)</li>\n<li>Derlenen bir dildir.</li>\n</ul>\n<h5>Thread (Tek CPU Kernel)</h5>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/f8a0a930fb1bdd862acb199bec086a45/5205c/sc1.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 17.567567567567565%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAAAsTAAALEwEAmpwYAAABBUlEQVQY0yWQwUrDQBRF+2fuBX/Er3DpQgVXunGn4NaltIqFCuqmxaIU2sam7bS0HdLMJGYynUmOSX1wFu/yuBxeI9gqgkgxlBGbNMPnCqtGWD1h5wzOO2y6JI8G5ImodsuuJlvjkhCXbfC+wFqLc45GczzlaSLorCN60qCDB9TLIfHbMdiCerLhLbp9hO6eQB2VkH6eoVoHxP0LcgeLhUAI8V/YCma8Sk2vKs2NwVQXcbKl/XPN4/CUYNPF7UCqNc/BJc3ROVP5hTWOLPvd283nc8IwpDGQW2r6K8lSJ5RFQVmWGJvyMbunHVwh4u+9aWIi3qd3dCY3rPR4n9Uv8d5japGKP6xhJk9wip/7AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"sc1\"\n        title=\"\"\n        src=\"/static/f8a0a930fb1bdd862acb199bec086a45/fcda8/sc1.png\"\n        srcset=\"/static/f8a0a930fb1bdd862acb199bec086a45/12f09/sc1.png 148w,\n/static/f8a0a930fb1bdd862acb199bec086a45/e4a3f/sc1.png 295w,\n/static/f8a0a930fb1bdd862acb199bec086a45/fcda8/sc1.png 590w,\n/static/f8a0a930fb1bdd862acb199bec086a45/5205c/sc1.png 833w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<h5>Thread (Multi CPU kernel)</h5>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/8d26b9b8c26ff3d2923946f7c013d0fd/f0551/sc2.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 35.810810810810814%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsTAAALEwEAmpwYAAABKUlEQVQoz6XRy0sCURTH8fnLI42iRe+gvyF6bcqkNhYlFC1K0hEfqDOh47ydueM4OU3fbkItJNp44MOPszmcc69ihIK649Pyg1lq/ohFSqmYLrdDj2KjQ6lv8WAK4n6JsJInrG5ImwTVLWlb2iGs7RKq+wh1j0A9IBn7iCjGcWym0ylK2xvxZHmUtT6PQ4eqG/HuVkh6hyT6GYl2wuTXsex/HMn+lCQO5MAxtm2RpimKmEwYBCHWOJYp8KNosZPrtse94XD3ZlCWG76YHnHi4UY9vEifo83R+chSsiybbfedyqsceGO4FNQWpYHFsxVRM64pNHJctdcpttakVS6bK1KeQjPHRXNZWuK8nsMPLXz5bJ1uByEEiitP7cof1kdilqaYO/nzD//UF/WOCPKO3vskAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"sc2\"\n        title=\"\"\n        src=\"/static/8d26b9b8c26ff3d2923946f7c013d0fd/fcda8/sc2.png\"\n        srcset=\"/static/8d26b9b8c26ff3d2923946f7c013d0fd/12f09/sc2.png 148w,\n/static/8d26b9b8c26ff3d2923946f7c013d0fd/e4a3f/sc2.png 295w,\n/static/8d26b9b8c26ff3d2923946f7c013d0fd/fcda8/sc2.png 590w,\n/static/8d26b9b8c26ff3d2923946f7c013d0fd/f0551/sc2.png 862w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<h3>Goroutine</h3>\n<ul>\n<li>Light-weight threads olarak geçer.</li>\n<li>İşletim sistemi threadlerinden daha ucuzlardır. Stack boyutları threadlere göre daha düşüktür. Goroutinlerin boyutu 2KB’dır.</li>\n<li>Go runtime tarafından yönetilir. (User thread gibi)</li>\n<li>Therad’e göre daha az maliyetlidir. Context switch yaparken.</li>\n<li>Channellar ile haberleşirler.</li>\n<li>Kendi stack boyutlarını runtime’da küçültebilir aynı zamanda büyültebilirler.</li>\n<li>Goroutineler işletim sistemi threadleri üzerinde çalışır(kernel).</li>\n<li>Main goroutine default.</li>\n<li>Goroutineler stack boyutlarını 64-bit’deki işlemcilerde 1GB kadar 32-bit’lerde 250MB kadar max büyütebilir. <code class=\"language-text\">runtime.morestack</code> daha fazla stack ihtiyacı varsa bu komut çalıştırılır.</li>\n</ul>\n<h3>Go Scheduler</h3>\n<ul>\n<li>GMP</li>\n<li>Go runtime’a özeldir.</li>\n<li>Birden fazla goroutine birden fazla thread üzerinde çalışabilir.<code class=\"language-text\">schema-1</code></li>\n<li>Görevi çalıştırmaya hazır goroutineleri threadler üzerinde çalıştırmaktır.(kernel thread).</li>\n<li>Bir işletim sistemi thread’i mutlaka bir processor’e bağlı olmak zorundadır. Yoksa goroutinler o thread üzerinde çalışamaz.</li>\n<li>Go runtime’ın bir parçasıdır. Go scheduler user seviyesinde çalışan yapılardır.</li>\n</ul>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/f04d107ed3039324725b019f003201f3/cc8d6/sc4.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 62.16216216216216%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAACuElEQVQoz2VTXUgUURidB4Neil6CIJCyyIx8CALDyjILAiF6KaS3KILytSAkejFKKOlPpLRWy938S7al9Ze0rEQT2Y31f9tcdV13HXfXXWdmd/5P9864pXThMN8wd879zjn3Y1KyiPdzHWj1O8GLAuhyRUbR6HdgkQsb75quQdf1/6AR0FXu9qJsZNKomYcTL3CgtRD7W0/i0dhLeCKTOOwsxsHmUyj5XgpeMg8hFFi/tLVnZ2AJGU9tyKisRzupmfvjVdhrPYo91nxQ8mHWjRx7IbItx1DcfxkRLgZFUqCoitGVLMsQRRGiJEGTRLgCi8i0dmJH/UeMRuNgZEWG7bcdjTMOrHBx6IqOjplePPbUYmxpCpqsgRd4cBxnQCJEiqIglUqB40n3hLQ/yOLbImtKZoUILL5m1HtbsCLEjW7aZ3tRM22DPza/QSYlo6SJRMLoMi37nS+AOq+5l7npvoeshnxkNeXj+VQdvoQGsa+tANnW47g4cMMISpZMmbSzdCBCMgWJW8VAOIKt1c3Y/MxG/o2AqRivRm5TEXLbTqOJyB5iXTjkOIuchhO4MngLfFKAIiumbwS0SwqReKkQKzq8fmyptWNbTRuGwlEwNDzn/Cd0L/RDFzWIqyl0T39GrceGEBtGkhMMD2kYuv4vaVonyQHQVbwhct/9WpM8vPQT13+UGXCFPIiSVMvdT3Bt6Dbss13GpnSyPM9DEAQDyWQSErGAru5AGHXTcyZh6cgd7LbkYdfbPNz1VKIn+BWZLXnIeVWAgr4LWOaiUGXVSJUiTUY9pNdmIprATovD8LAvuAzGOd+Loq4SnOm5ZASywIVwvu8qjjjO4cFoFVRFNadC0zYkrlL5mgoXG8P21x+wiRB20YtNPwb5MEIC+3dzLBXHVNyH9HCkvVs/duunpWUmiAqPz6j/APCOPBYp7QX+AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"Schema1\"\n        title=\"\"\n        src=\"/static/f04d107ed3039324725b019f003201f3/fcda8/sc4.png\"\n        srcset=\"/static/f04d107ed3039324725b019f003201f3/12f09/sc4.png 148w,\n/static/f04d107ed3039324725b019f003201f3/e4a3f/sc4.png 295w,\n/static/f04d107ed3039324725b019f003201f3/fcda8/sc4.png 590w,\n/static/f04d107ed3039324725b019f003201f3/cc8d6/sc4.png 791w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p><code class=\"language-text\">schema-1</code></p>\n<div class=\"gatsby-highlight\" data-language=\"go\"><pre class=\"language-go\"><code class=\"language-go\"><span class=\"token keyword\">func</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\tfmt<span class=\"token punctuation\">.</span><span class=\"token function\">Println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Hello World!\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Bu code çalışınca neler olur? Go scheduler nasıl haraket eder?</p>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/2081dc091785ce92d82cb703381b36c1/bb2fd/sc3.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 28.37837837837838%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAAsTAAALEwEAmpwYAAABd0lEQVQY0z2QzStsYRzHn1ncErdk719QFGulEGV7uysLpbu9C3WlxIokhcTlWlngcr1cL0nK28LLSN4aitFY0FDGGDPOec5zXj7OOXPGU79+r31/v+cjHMAKzIu95zjZyAp8PJ1BmuZnL9d/d+tWRiHfdF7iCXRNR7yftWNftmFHWtHOO7C0J3/Ydmzfv+mSstUDOk9vgrpnWcHnVIKe8BA/tn4xGp5AGQrhTAuiI64NC+wZgRb7iyflWApDKb7vnBDqGafwzwJzd3FfSFmm/53ey9+UrNVQMV9P+WYDM7EVBP8Fh/15HA98gSVB+mYCw1M0JXfJFMWzWxR1jxAanKTl6MrlYCLdRUoqmsOtlC7WUtFXTelGHV3nQwjtn8Bc/oq9WoC2mI/xuJ3lZ1u+X449EJrapGr90L3YDNhmcew/HdOw20Tl9jca935yn44jjFQU+XKFTEZRmQc8PDnwOVZjkVsunpPBIn/gs5fUX4kkrt2rpZ9/AFhKm/055ON4AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"sc3\"\n        title=\"\"\n        src=\"/static/2081dc091785ce92d82cb703381b36c1/fcda8/sc3.png\"\n        srcset=\"/static/2081dc091785ce92d82cb703381b36c1/12f09/sc3.png 148w,\n/static/2081dc091785ce92d82cb703381b36c1/e4a3f/sc3.png 295w,\n/static/2081dc091785ce92d82cb703381b36c1/fcda8/sc3.png 590w,\n/static/2081dc091785ce92d82cb703381b36c1/efc66/sc3.png 885w,\n/static/2081dc091785ce92d82cb703381b36c1/bb2fd/sc3.png 1058w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<ul>\n<li>Runtime bir processor yaratıyor. (P)</li>\n<li>Scheduler initialize oluyor ve bir işletim sistemi thread’i yaratıyor.</li>\n<li><code class=\"language-text\">runtime.main</code>  çağırılıyor. Aslında main.main çağırılıyor. bizim main fonksiyonumuzu çağırır.</li>\n<li>Bu bir main goroutine oluşturur.</li>\n<li>P nin local queue’suna ekliyor. P’nin içerisinde bir goroutine sırası var ve main goroutine oraya pushlanıyor.</li>\n<li>İşletim sistemi thread’imiz processor’e bağlanıyor. P’nin içerisindeki goroutine’ni çalıştırmak için gerekli bigileri alıyor.</li>\n<li>Goroutine işletim sistemi thread’ine bağlanıyor.</li>\n<li>İşlemini gerçekleştiriyor. Code çalışır ve bitiyor her hangi bir duruma bağlı olarak (exit, panic, defer). sonrasında <code class=\"language-text\">runtime.exit</code> çağırılıyor.</li>\n</ul>","frontmatter":{"title":"Goroutine & Go Scheduler","date":"March 31, 2022"}}},"pageContext":{"slug":"/goroutine-goscheduler/","previous":{"fields":{"slug":"/nodejs-async/"},"frontmatter":{"title":"Node-JS Asynchronous and Single-threaded [NOTE]"}},"next":null}},"staticQueryHashes":["3128451518","3584141052"]}